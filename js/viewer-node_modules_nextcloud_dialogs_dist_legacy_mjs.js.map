{"version":3,"file":"viewer-node_modules_nextcloud_dialogs_dist_legacy_mjs.js?v=f7473e7015f0d8fce93c","mappings":"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","sources":["webpack:///viewer/node_modules/@nextcloud/dialogs/dist/legacy.mjs"],"sourcesContent":["import { basename as k } from \"path\";\nimport { a as o, t as f, c as w } from \"./chunks/index-CRno7JSe.mjs\";\nimport \"toastify-js\";\nimport D from \"vue\";\nimport { D as F } from \"./chunks/DialogBase-aHPYSWdD.mjs\";\nimport T from \"@mdi/svg/svg/folder-multiple.svg?raw\";\nimport B from \"@mdi/svg/svg/folder-move.svg?raw\";\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst M = (v, i, a = () => {\n}) => {\n  const u = document.createElement(\"div\");\n  (document.querySelector(i == null ? void 0 : i.container) || document.body).appendChild(u);\n  const r = new D({\n    el: u,\n    name: \"VueDialogHelper\",\n    render: (h) => h(v, {\n      props: i,\n      on: {\n        close: () => {\n          a(), r.$destroy();\n        }\n      }\n    })\n  });\n};\nasync function z(v, i, a = !1, u, C, r = o.Choose, h, m) {\n  const y = (e, c) => {\n    const n = (t) => {\n      const s = (t == null ? void 0 : t.root) || \"\";\n      let l = (t == null ? void 0 : t.path) || \"\";\n      return l.startsWith(s) && (l = l.slice(s.length) || \"/\"), l;\n    };\n    return a ? (t) => e(t.map(n), c) : (t) => e(n(t[0]), c);\n  }, P = (e) => {\n    var c, n, t, s, l, p;\n    return {\n      id: e.fileid || null,\n      path: e.path,\n      mimetype: e.mime || null,\n      mtime: ((c = e.mtime) == null ? void 0 : c.getTime()) || null,\n      permissions: e.permissions,\n      name: ((n = e.attributes) == null ? void 0 : n.displayname) || e.basename,\n      etag: ((t = e.attributes) == null ? void 0 : t.etag) || null,\n      hasPreview: ((s = e.attributes) == null ? void 0 : s.hasPreview) || null,\n      mountType: ((l = e.attributes) == null ? void 0 : l.mountType) || null,\n      quotaAvailableBytes: ((p = e.attributes) == null ? void 0 : p.quotaAvailableBytes) || null,\n      icon: null,\n      sharePermissions: null\n    };\n  };\n  let b;\n  r === o.Custom ? (b = [], (m.buttons || []).forEach((e) => {\n    b.push({\n      callback: y(i, e.type),\n      label: e.text,\n      type: e.defaultButton ? \"primary\" : \"secondary\"\n    });\n  })) : b = (e, c) => {\n    var n, t, s;\n    const l = [], p = ((t = (n = e == null ? void 0 : e[0]) == null ? void 0 : n.attributes) == null ? void 0 : t.displayName) || ((s = e == null ? void 0 : e[0]) == null ? void 0 : s.basename), d = p || k(c);\n    return r === o.Choose && l.push({\n      callback: y(i, o.Choose),\n      label: p && !a ? f(\"Choose {file}\", { file: p }) : f(\"Choose\"),\n      type: \"primary\"\n    }), (r === o.CopyMove || r === o.Copy) && l.push({\n      callback: y(i, o.Copy),\n      label: d ? f(\"Copy to {target}\", { target: d }) : f(\"Copy\"),\n      type: \"primary\",\n      icon: T\n    }), (r === o.Move || r === o.CopyMove) && l.push({\n      callback: y(i, o.Move),\n      label: d ? f(\"Move to {target}\", { target: d }) : f(\"Move\"),\n      type: r === o.Move ? \"primary\" : \"secondary\",\n      icon: B\n    }), l;\n  };\n  const g = {};\n  typeof (m == null ? void 0 : m.filter) == \"function\" && (g.filterFn = (e) => m.filter(P(e)));\n  const _ = typeof u == \"string\" ? [u] : u || [];\n  M(w, {\n    ...g,\n    name: v,\n    buttons: b,\n    multiselect: a,\n    path: h,\n    mimetypeFilter: _,\n    allowPickDirectory: (m == null ? void 0 : m.allowDirectoryChooser) === !0 || _.includes(\"httpd/unix-directory\")\n  });\n}\nasync function H(v, i, a, u) {\n  M(F, { name: i, message: v, buttons: [\n    {\n      label: \"No\",\n      // eslint-disable-next-line n/no-callback-literal\n      callback: () => a(!1)\n    },\n    {\n      label: \"Yes\",\n      type: \"primary\",\n      // eslint-disable-next-line n/no-callback-literal\n      callback: () => a(!0)\n    }\n  ], size: \"small\" }, () => a(!1));\n}\nexport {\n  H as confirm,\n  z as filepicker\n};\n"],"names":["M","v","i","a","arguments","length","undefined","u","document","createElement","querySelector","container","body","appendChild","r","D","el","name","render","h","props","on","close","$destroy","async","z","o","Choose","m","y","e","c","n","t","s","root","l","path","startsWith","slice","map","b","Custom","buttons","forEach","push","callback","type","label","text","defaultButton","p","attributes","displayName","basename","d","k","f","file","CopyMove","Copy","target","icon","T","Move","B","g","filter","filterFn","id","fileid","mimetype","mime","mtime","getTime","permissions","displayname","etag","hasPreview","mountType","quotaAvailableBytes","sharePermissions","P","_","w","multiselect","mimetypeFilter","allowPickDirectory","allowDirectoryChooser","includes","H","F","message","size"],"sourceRoot":""}